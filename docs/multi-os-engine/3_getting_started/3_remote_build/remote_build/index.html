

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Remote Build &mdash; Multi-OS Engine Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" href="../../../../_static/theme.css" type="text/css" />

  
      <script src="../../../../_static/documentation_options.js?v=cebfb12b"></script>
      <script src="../../../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex/" />
    <link rel="search" title="Search" href="../../../../search/" />
    <link rel="next" title="Customizing Your Apple Xcode* Project using a Gradle* Script" href="../../4_project_customization_via_gradle/project_customization_via_gradle/" />
    <link rel="prev" title="Multi-OS Engine Samples" href="../../2_moe_samples/MOE_samples/" />
     
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-75001976-1', 'auto');
  ga('send', 'pageview');

</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../" class="icon icon-home">
            Multi-OS Engine Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../MultiOSEngine/">Multi-OS Engine</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../1_Overview/Overview/">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../2_Introduction/Introduction/">Introduction</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../Getting_Started/">Getting Started</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../0_prerequisites/prerequisites/">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../1_installation/installation/">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../1_hello_world_app/hello_world_app/">Creating a Hello World App for Android and iOS Devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../2_moe_samples/MOE_samples/">Multi-OS Engine Samples</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Remote Build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#setting-up-xcode-keychain">Setting Up Xcode &amp; Keychain</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setting-up-openssh">Setting Up OpenSSH</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creating-run-configuration-in-android-studio">Creating run configuration in Android Studio</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getting-apple-developer-certificate-and-provisioning-profile-on-macos">Getting Apple developer certificate and provisioning profile on macOS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#certificates-generation-using-free-apple-developer-account">Certificates generation using “free” Apple developer account</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../4_project_customization_via_gradle/project_customization_via_gradle/">Customizing Your Apple Xcode* Project using a Gradle* Script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../6_how_to_enable_javadoc/how_to_enable_javadoc/">Enabling Javadoc Docs for iOS API in IDEs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../7_porting/porting/">Porting an Android Application to Apple iOS Platform Using Multi-OS Engine</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../4_create_ui/create_ui/">Creating Your App’s User Interface (UI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../5_using_thirdparty/using_thirdparty/">Using Third Party Native Libraries for iOS*</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../6_natj/NatJ/">Nat/J library for Java to native binding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../7_creating_db_app/creating_db_app/">Creating a Database App</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../8_accessWebServices/accessWebServices/">Accessing Web Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../9_game/game/">Creating a Game App</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../12_advanced/advanced/">Advanced Topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../13_Troubleshooting/troubleshooting/">Troubleshooting tips</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../">Multi-OS Engine Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../MultiOSEngine/">Multi-OS Engine</a></li>
          <li class="breadcrumb-item"><a href="../../Getting_Started/">Getting Started</a></li>
      <li class="breadcrumb-item active">Remote Build</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/multi-os-engine/3_getting_started/3_remote_build/remote_build.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="remote-build">
<span id="getting-started-remote-build"></span><h1>Remote Build<a class="headerlink" href="#remote-build" title="Link to this heading">¶</a></h1>
<p>Remote build provides the following capabilities:</p>
<ul class="simple">
<li><p>Building .app and .ipa files from Android Studio* on Windows* for iOS* devices on a remote macOS system located in a local network.</p></li>
<li><p>Run and debug iOS* apps built remotely on iOS* devices connected to Windows* host</p></li>
</ul>
<p>Running iOS* apps on a simulator on Windows* hosts is not possible.</p>
<p>This tutorial covers information related to the Remote build to get started:</p>
<ul class="simple">
<li><p>How to create remote build configuration and run the build</p></li>
<li><p>Apple* P12 certificate and provisioning profile obtaining</p></li>
<li><p>Known issues and troubleshooting steps</p></li>
</ul>
<p>The requirements for the Windows and macOS hosts are listed on the <a class="reference internal" href="../../0_prerequisites/prerequisites/#getting-started-prerequisites"><span class="std std-ref">Prerequisites</span></a> page.</p>
<section id="setting-up-xcode-keychain">
<h2>Setting Up Xcode &amp; Keychain<a class="headerlink" href="#setting-up-xcode-keychain" title="Link to this heading">¶</a></h2>
<p>Before any remote build can occur, we need to ensure the build server’s Xcode is setup correctly.</p>
<section id="prepare-xcode">
<h3>Prepare Xcode<a class="headerlink" href="#prepare-xcode" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Go to <cite>Xcode &gt; Preferences &gt; Accounts</cite>.</p></li>
<li><p>Click on the <cite>+</cite> icon and login with your Apple ID.</p></li>
<li><p>Select your team.</p></li>
<li><p>Create an iOS Development signing identity.</p></li>
<li><p>Download all provisioning profiles.</p></li>
<li><p>Connect a device to the system and make sure you can run an application on it.</p></li>
</ul>
</section>
<section id="prepare-keychain-optional-recommended">
<h3><span class="target" id="prepare-keychain">Prepare Keychain</span> (Optional, Recommended)<a class="headerlink" href="#prepare-keychain-optional-recommended" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Open <cite>Keychain Access</cite></p></li>
<li><p>Create a new Keychain with <cite>File &gt; New Keychain…</cite></p></li>
<li><p>Save as <cite>moeremotebuild</cite></p></li>
<li><p>Give it a password, ie.: <cite>devpass</cite></p></li>
<li><p>Move the iPhone development certificate and the corresponding private key from the <cite>login</cite> keychain to the new one.</p></li>
<li><p>Double click the private key, make sure the <cite>Access Control</cite> is set to <cite>Allow all applications to access this item</cite>,
or make sure <cite>/usr/bin/codesign</cite> is added to the allow list.</p></li>
</ul>
<img alt="../../../../_images/access_control.png" src="../../../../_images/access_control.png" />
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>On <strong>macOS Sierra</strong> remote servers open Terminal and run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">security</span> <span class="nb">set</span><span class="o">-</span><span class="n">key</span><span class="o">-</span><span class="n">partition</span><span class="o">-</span><span class="nb">list</span> <span class="o">-</span><span class="n">S</span> <span class="n">apple</span><span class="o">-</span><span class="n">tool</span><span class="p">:,</span><span class="n">apple</span><span class="p">:</span> <span class="o">-</span><span class="n">k</span> <span class="n">devpass</span> <span class="n">moeremotebuild</span><span class="o">.</span><span class="n">keychain</span>
</pre></div>
</div>
<p>If this is not done, builds might fail with <code class="docutils literal notranslate"><span class="pre">SecKey</span> <span class="pre">API</span> <span class="pre">returned:</span> <span class="pre">-25308,</span> <span class="pre">(null)...:</span> <span class="pre">unknown</span> <span class="pre">error</span> <span class="pre">-1=ffffffffffffffff</span></code></p>
</div>
</section>
</section>
<section id="setting-up-openssh">
<h2>Setting Up OpenSSH<a class="headerlink" href="#setting-up-openssh" title="Link to this heading">¶</a></h2>
<p>The Multi-OS Engine remote build system currently requires public-key authentication. For this we must create a private/public-key pair. GitHub has a great description on how to do this [here](<a class="reference external" href="https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/">https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/</a>). (Note: the <cite>-C “your_email&#64;example.com”</cite> parameter is not required.)
NOTE: Make sure to generate the key in the “PEM” format. For that add “-m PEM” to the <cite>ssh-keygen</cite> command.</p>
<section id="build-server">
<h3>Build Server<a class="headerlink" href="#build-server" title="Link to this heading">¶</a></h3>
<p>We must setup OS X’s Remote Login feature to use public keys instead of passwords.</p>
<ul>
<li><p>Login to your remote server.</p></li>
<li><p>Go to <cite>System Preferences &gt; Sharing</cite> and disable Remote Login.</p></li>
<li><p>Open Terminal.</p></li>
<li><p>Type <cite>sudo nano /etc/ssh/sshd_config</cite> and enter password to edit.</p></li>
<li><p>Change the parameters to the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">RSAAuthentication</span> <span class="n">yes</span>
<span class="n">PubkeyAuthentication</span> <span class="n">yes</span>
<span class="n">PasswordAuthentication</span> <span class="n">no</span>
<span class="n">ChallengeResponseAuthentication</span> <span class="n">no</span>
</pre></div>
</div>
</li>
<li><p>Press <cite>ctrl + O</cite> to save and <cite>ctrl + X</cite> to exit.</p></li>
<li><p>Type <cite>mkdir -p ~/.ssh &amp;&amp; nano ~/.ssh/authorized_keys</cite></p></li>
<li><p>Add the contents of your <cite>id_rsa.pub</cite> file into a new line.</p></li>
<li><p>Press <cite>ctrl + O</cite> to save and <cite>ctrl + X</cite> to exit.</p></li>
<li><p>Go to <cite>System Preferences &gt; Sharing</cite> and enable Remote Login.</p></li>
</ul>
</section>
<section id="development-host">
<h3>Development Host<a class="headerlink" href="#development-host" title="Link to this heading">¶</a></h3>
<p>Copy the generated RSA private key onto your development host.</p>
</section>
</section>
<section id="creating-run-configuration-in-android-studio">
<h2>Creating run configuration in Android Studio<a class="headerlink" href="#creating-run-configuration-in-android-studio" title="Link to this heading">¶</a></h2>
<p>To use remote build in Android Studio, fill out the Remote Build tab in the Run Configuration.</p>
<img alt="../../../../_images/run_configuration.png" src="../../../../_images/run_configuration.png" />
<ul class="simple">
<li><p>Use the correct file path for the SSH private key file.</p></li>
<li><p>Specify a path for the known_hosts file, if it does not exist, it will be created automatically.</p></li>
<li><p>The Gradle repositories field can be left empty by default, it is only required if custom local Maven repositories are required on the build machine.</p></li>
<li><p>If you skipped the <a class="reference internal" href="#prepare-keychain">Prepare Keychain</a> step and would like to use the login keychain, then enter “login.keychain” as the “Keychain.name” and your login password as the “Keychain.pass”.</p></li>
</ul>
<p>After that the launch will use the remote build settings automatically.</p>
</section>
<section id="getting-apple-developer-certificate-and-provisioning-profile-on-macos">
<h2>Getting Apple developer certificate and provisioning profile on macOS<a class="headerlink" href="#getting-apple-developer-certificate-and-provisioning-profile-on-macos" title="Link to this heading">¶</a></h2>
<p>An Apple developer certificate is needed in order to run the code on a physical iPhone and iPad. Apple Mac machine and membership in Apple Developer Program ($99/year) are needed to generate P12 certificate and to submit your apps to the AppStore. It is possible to generate the certificate using “free” Apple developer account on macOS with Xcode 7, but you will not be able to submit your application to AppStore using this certificate.</p>
<p>Go to macOS machine, open Xcode, open the Accounts preferences pane, and check whether your Apple ID is registered. If it’s not listed, click “+” button to add it.</p>
<img alt="../../../../_images/xcode.png" src="../../../../_images/xcode.png" />
<p>Make sure that you have a valid signing identity and provisioning profiles. Choose your account in the accounts preferences pane and click on “View Details”.</p>
<img alt="../../../../_images/xcode2.png" src="../../../../_images/xcode2.png" />
<p>To export P12 certificate, start the Apple Keychain Access* application by opening the Applications folder and choosing the Utilities option.</p>
<img alt="../../../../_images/export1.png" src="../../../../_images/export1.png" />
<p>Select the Apple certificate to be exported, click File in your Apple menu and select Export Items from the drop-down menu.</p>
<img alt="../../../../_images/export2.png" src="../../../../_images/export2.png" />
<p>In the Save As field, enter a name for the Export p12 file. Enter a password for your p12 file (1 character minimum). Click OK.</p>
<img alt="../../../../_images/export3.png" src="../../../../_images/export3.png" />
<p>Copy the downloaded p12 file to your Windows* system so you can use it to configure MOE remote build.</p>
<p>To find existing provisioning profile on your hard drive, go to Xcode -&gt; Preferences -&gt; Accounts -&gt; View Details, right click on the provisioning profile with required Bundle ID and select “Show in Finder:</p>
<img alt="../../../../_images/profiles.png" src="../../../../_images/profiles.png" />
<p>You can generate new Provisioning Profile on Apple* web site. Go to <a class="reference external" href="https://developer.apple.com">https://developer.apple.com</a>, sign in to Member Center, and open “Certificates, Identifiers &amp; Profiles” link:</p>
<p>After you sign into your Apple* Developer account using a web browser, select Certificates, Identifiers &amp; Profiles. Click Provisioning Profiles, then select “Distribution”, click “+” button.
Select your distribution type (“Ad Hoc” for testing or “App Store” for a final distribution/production build), click continue. Then select your App ID and click Continue.
Then select your certificate, select the desired devices. Name, generate, and download the  Provisioning Profile.</p>
<p>You can create multiple Ad Hoc provisioning profiles depending on the testing devices to be used. Typically, create one or more for ad hoc testing purposes. Later, create a production provisioning profile for the final Apple AppStore distribution.</p>
</section>
<section id="certificates-generation-using-free-apple-developer-account">
<h2>Certificates generation using “free” Apple developer account<a class="headerlink" href="#certificates-generation-using-free-apple-developer-account" title="Link to this heading">¶</a></h2>
<p>Prerequisites:</p>
<ul class="simple">
<li><p>macOS machine with installed Xcode 7.x</p></li>
<li><p>iOS device connected to the mac machine</p></li>
</ul>
<p>Limitations of the free certificate:</p>
<ul class="simple">
<li><p>You will not be able to submit your applications to AppStore*</p></li>
<li><p>You can’t manage your certificates and provisioning profiles using <a class="reference external" href="https://developer.apple.com">https://developer.apple.com</a> site</p></li>
</ul>
<p>Create a free Apple ID if you don’t have it.</p>
<p>Open Xcode 7, navigate to Xcode -&gt; Preferences -&gt; Accounts and press “+” button to add your Apple ID. Select your account and press the “View Details” button.</p>
<p>The next screen allows you to create the development certificate. To do this, press the Create button next to the iOS development text. Once this process has completed, press Done.</p>
<img alt="../../../../_images/free_cert.png" src="../../../../_images/free_cert.png" />
<p>Now you can find the generated development certificate in “Keychain Access” program.</p>
<img alt="../../../../_images/free_cert2.png" src="../../../../_images/free_cert2.png" />
<p>Now connect your iOS* device to the macOS machine. Create new project for iOS* using Xcode* project wizard (File -&gt; New project). Enter the Product name, Organization Name and Organization Identifier sections, press Next and save your project. You should see the following screen:</p>
<img alt="../../../../_images/free_cert3.png" src="../../../../_images/free_cert3.png" />
<p>Select your iOS* device from the target selection drop-down menu. Press the “Fix Issue” button to create the provisioning profile for your device. Press the “Play” icon to build the project and deploy the application to device to ensure that everything is set up correctly.</p>
<p>It’s possible that the first time you get message “process launch failed: security”. It indicate that provisioning profile was not approved by device. To fix it you should go Settings -&gt; General -&gt; Profiles and mark corresponding profile trusted. To save the development certificate as .p12 file, go to Keychain Access, select the certificate, open the arrow to also select the private key and export them together as a .p12 file. To find the provisioning profile, go to Xcode* -&gt; Preferences -&gt; Accounts -&gt; View Details. right click on the provisioning profile with required Bundle ID and select “Show in Finder”.</p>
<div class="toctree-wrapper compound">
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../2_moe_samples/MOE_samples/" class="btn btn-neutral float-left" title="Multi-OS Engine Samples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../4_project_customization_via_gradle/project_customization_via_gradle/" class="btn btn-neutral float-right" title="Customizing Your Apple Xcode* Project using a Gradle* Script" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Intel Corporation, Migeran &amp; Multi-OS Engine Community.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <header>
  <div class="header__container">
    <a href="http://doc.multi-os-engine.org/" class="header__logo">
      <img width="176" src="../../../../_static/moelogo-02.png">
    </a>
    <div class="links__icon">
      <i class="fa fa-bars"></i>
    </div>
    <ul class="header__links">
      
        <li><a href="https://multi-os-engine.org/">Home</a></li>
        <li><a href="https://multi-os-engine.org/features/">Features</a></li>
        <li><a href="https://doc.multi-os-engine.org">Docs</a></li>
        <li><a href="https://multi-os-engine.org/blog/">Blog</a></li>
        <li><a href="https://multi-os-engine.org/support/">Support</a></li>
        <li><a href="https://discuss.multi-os-engine.org">Forum</a></li>
        <li><a href="https://discord.gg/m5t3qNXTWj">Discord</a></li>
        <li><a href="https://github.com/multi-os-engine/multi-os-engine">GitHub</a></li>
    </ul>
  </div>
</header>


</body>
</html>